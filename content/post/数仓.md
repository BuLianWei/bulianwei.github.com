---
title: "数仓"
date: 2020-09-17T16:11:13+08:00
draft: true
---

# 数仓

## 数仓定义
面向主题、集成、非易失、随时间变化，用于支持管理者决策
## 数据模型
数据模型就是数据组织和存储的方式
### ER实体关系模型
为数据分析决策服务，但不能用于分析决策
#### 特点
- 需要全面了解企业业务和数据
- 实施周期长
- 对建模人员的要求高

#### 建模步骤阶段
- 高层模型：
一个高度抽象的模型，描述主要的主题以及主题间的关系，用于描述企业的总体概况
- 中层模型：
在高层模型的基础上，细化主题的数据项
- 物理模型（底层模型）：
在中层模型的基础上，考虑物理存储，同时基于性能和平台特点进行存储设计，也可以做一些表的合并，分区设计

#### 3NF
- 1NF：**每一列都是不可分割的原子数据项**
同一列中不能同时有多个值，即实体中的某个属性不能有多个值（张三 ，年龄<12，14>）
- 2NF：**在1nf的基础上，非码属性必须完全依赖于码**（在1nf基础上消除非主属性对主码的部分函数依赖）
在主码为联合主键时（存在联合主键的必要条件，只有多个主码联合在一起才能确定唯一列值，列如，学号，学生名字，课程号，学分，联合主键为学号，课程号，只有学号和课程号一起才能决定学分，单纯的课程号，学分是没有意义的，必须是那个学生的那个课程的学分才有意义，同一个表中的部分列只依赖于联合主键的部分主码，这就是存在部分依赖
- 3NF：**在2nf基础上，任何非主属性不依赖于其他非主属性**（在2nf基础上消除传递依赖）
不存在联合主键，列如，学号，学生名字，课程号，课程名字，学生名字只依赖于学号，课程名字只依赖于课程号，所以学号和课程号不是联合主键
### 维度模型
事实表：度量。表格里存储了能体现实际数据或详细数值，一般由维度编码和事实数据组成
维度表：角度。表格里存放了具有独立属性和层次结构的数据，一般由维度编码和对应的维度说明(标签)组成

#### 星形模型
#### 雪花模型

### Data Vault
### Anchor

### 建模方法
#### 层次分析法
#### 德尔菲法
## 数仓分层
dal：存放数据产品个性化的统计指标数据，主要面向前端展示
dws：采用更多的宽表化手段，构建公共指标数据层，针对不同的维度进行数据聚合，按主题进行划分
dwi：采用维度退化的方法，将维度退化到事实表中，减少事实表和维度表的关联，提高明细表的易用性
ods：存储所有基础数据，做简单的数据清洗

## 元数据
狭义的元数据是用来描述数据
广义的元数据除了业务逻辑直接处理的数据，用来维护整个系统运转所需信息
### 元数据分类
- 技术元数据
开发管理数仓
数据平台内对象和数据结构的定义、 源数据到目的数据的映射、数据转换的描述
存储位置、数据模型、数据库表、字段长度、字段类型、ETL脚本、SQL脚本、接口程序、数据关系等，数据所有者、数据质量定责、数据安全等级等

-  业务元数据
从业务角度对数仓描述
业务术语、信息分类、指标、统计口径

- 管理元数据
人员角色、岗位职责、管理 流程

### 元数据分析
- 血缘分析
- 影响分析
- 数据地图

### 元数据工具
- Atlas


### 模型
#### OIM模型
#### CWM模型

### 指标
衡量目标的参数。是一个事物的度量
### 标签
标志目标的分类或内容
标志事物的关键词



## 表
### 拉链表
记录历史。记录一个事物从开始，一直到当前状态的所有变化的信息。

## 数仓各层及每层责任
## 怎样建模，怎么做
## 元数据怎么打通
## 数据异构
简单来说就是数据的结构不同（txt,excel,mysql）
## 什么是维度建模
## 三范式

## 有哪些建模模型
er实体模型，维度模型，Data Vault模型，Anchor模型
